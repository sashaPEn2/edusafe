<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Викторина — EduSafe</title>
  <link rel="icon" type="image/x-icon" href="favcion.ico">
  <!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105618727', 'ym');

    ym(105618727, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105618727" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root {
      --blue-900: #1e3a8a;
      --blue-700: #1d4ed8;
      --blue-100: #dbeafe;
      --gray-50: #f9fafb;
      --gray-100: #f3f4f6;
      --gray-600: #4b5563;
      --gray-900: #111827;
      --white: #ffffff;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(to bottom, #f8fafc, #eef2ff);
      color: var(--gray-900);
      line-height: 1.6;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    /* Header */
    header {
      background: var(--white);
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 0;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--blue-900);
      z-index: 2;
    }

    .logo i {
      background: var(--blue-900);
      color: var(--white);
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Nav toggle (mobile) */
    .nav-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--gray-900);
      cursor: pointer;
      z-index: 2;
    }

    /* Desktop nav */
    .nav-container {
      display: flex;
      align-items: center;
      gap: 1.5rem;
    }

    .lang-selector {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .lang-selector select {
      padding: 0.5rem 0.75rem;
      border-radius: 0.5rem;
      border: 1px solid #d1d5db;
      background-color: var(--white);
      color: var(--gray-900);
      font-size: 0.9rem;
      outline: none;
    }

    .nav {
      display: flex;
      gap: 1rem;
    }

    .nav a {
      text-decoration: none;
      color: var(--gray-600);
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nav a:hover,
    .nav a.active {
      background: var(--blue-100);
      color: var(--blue-900);
    }

    /* Mobile menu */
    .mobile-menu {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(2px);
      z-index: 101;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .mobile-menu.active {
      opacity: 1;
      visibility: visible;
    }

    .mobile-menu-content {
      position: absolute;
      top: 0;
      right: 0;
      width: 85%;
      max-width: 320px;
      height: 100%;
      background: var(--white);
      box-shadow: -4px 0 20px rgba(0,0,0,0.1);
      border-radius: 0 0 0 1.5rem;
      padding: 1.5rem;
      transform: translateX(100%);
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .mobile-menu.active .mobile-menu-content {
      transform: translateX(0);
    }

    .mobile-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--gray-100);
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--gray-900);
      cursor: pointer;
    }

    .mobile-nav {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .mobile-nav a {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.875rem 1rem;
      border-radius: 0.75rem;
      text-decoration: none;
      color: var(--gray-900);
      font-weight: 500;
      background: var(--gray-50);
      transition: all 0.2s ease;
    }

    .mobile-nav a:hover,
    .mobile-nav a.active {
      background: var(--blue-100);
      color: var(--blue-900);
    }

    .mobile-nav a i {
      width: 1.5rem;
      text-align: center;
    }

    /* Hero */
    .hero {
      background: linear-gradient(135deg, var(--blue-900), #1e40af);
      color: var(--white);
      padding: 4rem 0;
      text-align: center;
    }

    .hero h1 {
      font-size: 2.25rem;
      font-weight: 800;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.125rem;
      max-width: 700px;
      margin: 0 auto 2rem;
      opacity: 0.95;
    }

    /* Sections */
    .section {
      padding: 3rem 0;
    }

    .section-title {
      text-align: center;
      font-size: 2rem;
      font-weight: 800;
      margin-bottom: 1.5rem;
      color: var(--blue-900);
    }

    /* Role Selection */
    .roles {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
    }

    .role-card {
      background: var(--white);
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      text-align: center;
      cursor: pointer;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }

    .role-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }

    .role-card.selected {
      border-color: var(--blue-700);
    }

    .role-icon {
      width: 3.5rem;
      height: 3.5rem;
      background: var(--blue-100);
      border-radius: 1rem;
      margin: 0 auto 1.25rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--blue-700);
      font-size: 1.5rem;
    }

    .btn {
      display: inline-block;
      background: var(--blue-700);
      color: var(--white);
      font-weight: 600;
      padding: 0.875rem 2rem;
      border-radius: 0.75rem;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 2px 6px rgba(29, 78, 216, 0.2);
    }

    .btn:hover {
      background: #1e40af;
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(29, 78, 216, 0.3);
    }

    /* Quiz */
    .quiz-container {
      background: var(--white);
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    .progress {
      height: 8px;
      background: var(--gray-100);
      border-radius: 9999px;
      margin-bottom: 2rem;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: var(--blue-700);
      border-radius: 9999px;
      width: 0%;
      transition: width 0.3s ease;
    }

    .question {
      margin-bottom: 1.5rem;
    }

    .question-text {
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--gray-900);
    }

    .options {
      display: grid;
      gap: 0.75rem;
    }

    .option {
      padding: 1rem;
      background: var(--gray-50);
      border: 1px solid #d1d5db;
      border-radius: 0.5rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .option:hover {
      background: var(--blue-100);
      border-color: var(--blue-700);
    }

    .option.selected {
      background: var(--blue-100);
      border-color: var(--blue-700);
      color: var(--blue-900);
      font-weight: 500;
    }

    .btn-full {
      width: 100%;
      padding: 1rem;
      font-size: 1.125rem;
      margin-top: 1rem;
    }

    /* Result */
    .result {
      text-align: center;
    }

    .score-badge {
      display: inline-block;
      background: var(--blue-700);
      color: white;
      font-size: 1.25rem;
      font-weight: bold;
      padding: 0.5rem 1.5rem;
      border-radius: 9999px;
      margin: 0.5rem;
    }

    .stars {
      color: #fbbf24;
      font-size: 1.5rem;
      margin: 1rem 0;
    }

    .recommendations {
      text-align: left;
      background: var(--gray-50);
      border-radius: 0.75rem;
      padding: 1.5rem;
      margin: 2rem 0;
    }

    .recommendations h4 {
      font-weight: 700;
      margin-bottom: 1rem;
      color: var(--gray-900);
    }

    .recommendations ul {
      padding-left: 1.5rem;
    }

    .recommendations li {
      margin-bottom: 0.75rem;
    }

    .recommendations a {
      color: var(--blue-700);
      text-decoration: underline;
    }

    /* Back btn */
    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: none;
      border: 2px solid var(--gray-600);
      color: var(--gray-600);
      padding: 0.75rem 1.5rem;
      border-radius: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      text-decoration: none;
      margin-bottom: 2rem;
    }

    .back-btn:hover {
      background: var(--gray-600);
      color: white;
    }

    /* Footer */
    footer {
      background: var(--gray-900);
      color: #9ca3af;
      padding: 3rem 0 1.5rem;
      margin-top: 3rem;
    }

    .footer-content {
      text-align: center;
    }

    .footer-logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--white);
      margin-bottom: 1rem;
    }

    .footer-logo i {
      background: var(--blue-700);
      width: 2.25rem;
      height: 2.25rem;
      border-radius: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .disclaimer {
      font-size: 0.8rem;
      max-width: 700px;
      margin: 1.5rem auto 0;
      padding-top: 1.5rem;
      border-top: 1px solid #374151;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .nav-toggle {
        display: block;
      }

      .nav-container {
        display: none;
      }

      .hero h1 { font-size: 1.75rem; }
      .section { padding: 2rem 0; }

      .role-card {
        min-width: 100%;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="container">
      <div class="header-content">
        <div class="logo">
          <i class="fas fa-shield-alt"></i>
          <span id="logoText">EduSafe</span>
        </div>

        <button class="nav-toggle" id="navToggle">
          <i class="fas fa-bars"></i>
        </button>

        <div class="nav-container">
          <div class="lang-selector">
            <select id="languageSelector">
              <option value="ru">Русский</option>
              <option value="en">English</option>
            </select>
          </div>
          <nav class="nav">
            <a href="index.html" id="navHome"><i class="fas fa-home"></i> <span>Главная</span></a>
            <a href="theory.html" id="navTheory"><i class="fas fa-book-open"></i> <span>Теория</span></a>
            <a href="choice-sp.html" id="navPractice"><i class="fas fa-lightbulb"></i> <span>Практика</span></a>
            <a href="quiz.html" class="active" id="navQuiz"><i class="fas fa-graduation-cap"></i> <span>Викторина</span></a>
            <a href="contact.html" id="navComplaint"><i class="fas fa-exclamation-triangle"></i> <span>Жалоба</span></a>
          </nav>
        </div>
      </div>
    </div>

    <div class="mobile-menu" id="mobileMenu">
      <div class="mobile-menu-content">
        <div class="mobile-header">
          <div class="logo" style="font-size: 1.25rem;">
            <i class="fas fa-shield-alt"></i>
            <span id="mobileLogoText">EduSafe</span>
          </div>
          <button class="close-btn" id="closeMenu">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="lang-selector" style="margin-bottom: 1.5rem;">
          <select id="mobileLanguageSelector">
            <option value="ru">Русский</option>
            <option value="en">English</option>
          </select>
        </div>
        <nav class="mobile-nav">
          <a href="index.html" id="mobileNavHome"><i class="fas fa-home"></i> <span>Главная</span></a>
          <a href="theory.html" id="mobileNavTheory"><i class="fas fa-book-open"></i> <span>Теория</span></a>
          <a href="choice-sp.html" id="mobileNavPractice"><i class="fas fa-lightbulb"></i> <span>Практика</span></a>
          <a href="quiz.html" class="active" id="mobileNavQuiz"><i class="fas fa-graduation-cap"></i> <span>Викторина</span></a>
          <a href="contact.html" id="mobileNavComplaint"><i class="fas fa-exclamation-triangle"></i> <span>Жалоба</span></a>
        </nav>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1 id="heroTitle">Интерактивная викторина по защите персональных данных</h1>
      <p id="heroSubtitle">10 вопросов для педагогов или 10 вопросов для студентов</p>
    </div>
  </section>

  <section class="section" id="roleSelection">
    <div class="container">
      <h2 class="section-title" id="roleSelectionTitle">Выберите роль</h2>
      <div class="roles">
        <div class="role-card" data-role="student">
          <div class="role-icon"><i class="fas fa-user-graduate"></i></div>
          <h3 id="roleStudentTitle">Студент / Ученик</h3>
          <p id="roleStudentDesc">10 вопросов по защите ВАШИХ персональных данных</p>
          <a href="#" class="btn" data-role="student" id="roleStudentBtn">Начать</a>
        </div>
        <div class="role-card" data-role="teacher">
          <div class="role-icon"><i class="fas fa-chalkboard-teacher"></i></div>
          <h3 id="roleTeacherTitle">Педагог</h3>
          <p id="roleTeacherDesc">10 вопросов по обработке персональных данных обучающихся</p>
          <a href="#" class="btn" data-role="teacher" id="roleTeacherBtn">Начать</a>
        </div>
      </div>
    </div>
  </section>

  <section class="section" id="quizSection" style="display: none;">
    <div class="container">
      <a href="index.html" class="back-btn">
        <i class="fas fa-home"></i> <span id="backToHome">Главная</span>
      </a>
      <h2 class="section-title" id="quizTitle">Викторина</h2>
      <div class="quiz-container">
        <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
        <div id="quizContent"></div>
        <button class="btn btn-full" id="nextBtn"><span id="nextBtnText">Далее</span></button>
      </div>
    </div>
  </section>

  <section class="section" id="resultSection" style="display: none;">
    <div class="container">
      <a href="index.html" class="back-btn">
        <i class="fas fa-home"></i> <span id="backToHome2">Главная</span>
      </a>
      <div class="result">
        <h2 class="section-title" id="resultTitle">Результаты</h2>
        <div id="scoreDisplay"></div>
        <div class="stars" id="starsDisplay"></div>
        <div class="recommendations">
          <h4 id="recommendationsTitle">Рекомендации</h4>
          <ul>
            <li id="rec1">Изучите раздел <a href="theory.html">«Теория»</a>, особенно ст. 4, 5, 9 Закона № 99-З</li>
            <li id="rec2">Проработайте <a href="practice.html">практические сценарии</a></li>
          </ul>
        </div>
        <button class="btn btn-full" id="restartBtn"><span id="restartBtnText">Пройти ещё раз</span></button>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <i class="fas fa-shield-alt"></i>
          <span id="footerLogoText">EduSafe</span>
        </div>
        <p id="footerDesc">Республиканский информационно-практический ресурс для педагогов и студентов</p>
        <p style="margin-top: 0.5rem;" id="footerCopyright">© 2025 Невдах Александр, УО «Белорусский государтсвенный экономический университет»</p>
      </div>
      <div class="disclaimer">
        <span id="footerDisclaimer1">Ресурс не использует cookies и не собирает персональные данные пользователей.</span><br>
        <span id="footerDisclaimer2">Все материалы носят информационно-просветительский характер и соответствуют действующему законодательству Республики Беларусь.</span>
      </div>
    </div>
  </footer>

  <script>
    // Translations
    const translations = {
      ru: {
        logoText: "EduSafe",
        navHome: "Главная",
        navTheory: "Теория",
        navPractice: "Практика",
        navQuiz: "Викторина",
        navComplaint: "Жалоба",
        heroTitle: "Интерактивная викторина по защите персональных данных",
        heroSubtitle: "10 вопросов для педагогов или 10 вопросов для студентов",
        roleSelectionTitle: "Выберите роль",
        roleStudentTitle: "Студент / Ученик",
        roleStudentDesc: "10 вопросов по защите ВАШИХ персональных данных",
        roleStudentBtn: "Начать",
        roleTeacherTitle: "Педагог",
        roleTeacherDesc: "10 вопросов по обработке персональных данных обучающихся",
        roleTeacherBtn: "Начать",
        backToHome: "Главная",
        backToHome2: "Главная",
        quizTitleStudent: "Викторина для студента",
        quizTitleTeacher: "Викторина для педагога",
        nextBtnText: "Далее",
        resultTitle: "Результаты",
        recommendationsTitle: "Рекомендации",
        rec1: "Изучите раздел «Теория», особенно ст. 4, 5, 9 Закона № 99-З",
        rec2: "Проработайте практические сценарии",
        restartBtnText: "Пройти ещё раз",
        footerLogoText: "EduSafe",
        footerDesc: "Республиканский информационно-практический ресурс для педагогов и студентов",
        footerCopyright: "© 2025 Невдах Александр, УО «Белорусский государтсвенный экономический университет»",
        footerDisclaimer1: "Ресурс не использует cookies и не собирает персональные данные пользователей.",
        footerDisclaimer2: "Все материалы носят информационно-просветительский характер и соответствуют действующему законодательству Республики Беларусь."
      },
      en: {
        logoText: "EduSafe",
        navHome: "Home",
        navTheory: "Theory",
        navPractice: "Practice",
        navQuiz: "Quiz",
        navComplaint: "Complaint",
        heroTitle: "Interactive Quiz on Personal Data Protection",
        heroSubtitle: "10 questions for teachers or 10 questions for students",
        roleSelectionTitle: "Select Your Role",
        roleStudentTitle: "Student",
        roleStudentDesc: "10 questions on protecting YOUR personal data",
        roleStudentBtn: "Start",
        roleTeacherTitle: "Teacher",
        roleTeacherDesc: "10 questions on processing students' personal data",
        roleTeacherBtn: "Start",
        backToHome: "Home",
        backToHome2: "Home",
        quizTitleStudent: "Quiz for Students",
        quizTitleTeacher: "Quiz for Teachers",
        nextBtnText: "Next",
        resultTitle: "Results",
        recommendationsTitle: "Recommendations",
        rec1: "Study the \"Theory\" section, especially Articles 4, 5, 9 of Law No. 99-Z",
        rec2: "Work through practical scenarios",
        restartBtnText: "Try Again",
        footerLogoText: "EduSafe",
        footerDesc: "Republican Informational-Practical Resource for Teachers and Students",
        footerCopyright: "© 2025 Nevdakh Alexander, Belarusian State Economic University",
        footerDisclaimer1: "The resource does not use cookies and does not collect personal data of users.",
        footerDisclaimer2: "All materials are for informational and educational purposes and comply with the current legislation of the Republic of Belarus."
      }
    };

    // НОВЫЙ БЛОК ВОПРОСОВ, ОСНОВАННЫЙ НА ЗАКОНЕ РЕСПУБЛИКИ БЕЛАРУСЬ № 99-З
    const questions = {
      student: [
        { q: "С какого возраста студент/учащийся имеет право самостоятельно давать согласие на обработку своих персональных данных (ПД)? (Закон № 99-З, ст. 9)", a: ["С 14 лет", "С 16 лет", "С 18 лет", "С момента получения паспорта"], c: 0 },
        { q: "Что является ключевым требованием, которому должна соответствовать любая обработка Ваших персональных данных учреждением образования? (Закон № 99-З, ст. 5)", a: ["Максимальный сбор данных", "Прозрачность процесса", "Целевое ограничение", "Устное разрешение директора"], c: 2 },
        { q: "Вы хотите узнать, кому ВУЗ предоставлял Ваши персональные данные за последний год. Какое право Вы можете реализовать? (Закон № 99-З, ст. 10)", a: ["Право на мгновенное удаление всех ПД", "Право на получение информации о предоставлении ПД третьим лицам", "Право на исправление оценок", "Право на доступ к личным данным других студентов"], c: 1 },
        { q: "Учреждение решило опубликовать Ваше эссе на общедоступном сайте. Какое условие должно быть соблюдено? (Закон № 99-З, ст. 9, 17)", a: ["Достаточно устного согласия", "Обязательно письменное согласие или согласие в форме электронного документа", "Достаточно, если это не ФИО", "Согласие не требуется, если нет оценок"], c: 1 },
        { q: "Вы обнаружили, что Ваш старый адрес все еще числится в учетной системе. Что Вы имеете право требовать от учреждения? (Закон № 99-З, ст. 11)", a: ["Уничтожения учетной записи", "Внесения изменений в свои персональные данные", "Денежной компенсации", "Привлечения виновных к ответственности"], c: 1 },
        { q: "Можно ли делиться своим паролем от электронной учебной системы (личного кабинета) с одногруппником?", a: ["Да, для помощи в учебе", "Да, если он не посмотрит оценки", "Нет, это нарушение требований по защите и конфиденциальности ПД", "Только с разрешения преподавателя"], c: 2 },
        { q: "В каком случае учреждение НЕ обязано получать Ваше согласие на обработку ПД? (Закон № 99-З, ст. 6)", a: ["Для рассылки рекламных материалов", "Для участия в международных олимпиадах", "Для осуществления образовательного процесса (зачисление, ведение учета успеваемости)", "Для публикации фото с мероприятия"], c: 2 },
        { q: "Вы отозвали согласие на обработку Вашего номера телефона для СМС-рассылки о мероприятиях. Что должно сделать учреждение? (Закон № 99-З, ст. 10)", a: ["Продолжить обработку, но только с разрешения директора", "Прекратить обработку данных, на которые было отозвано согласие", "Перевести Вас на другое отделение", "Уведомить всех преподавателей о Вашем решении"], c: 1 },
        { q: "Какой из перечисленных ниже признаков относится к персональным данным? (Закон № 99-З, ст. 1)", a: ["Ваш рост и вес", "Номер телефона, адрес электронной почты, ФИО", "Название любимой книги", "Список Ваших друзей"], c: 1 },
        { q: "Куда следует обращаться, если Вы считаете, что учреждение нарушает Ваши права в сфере ПД? (Закон № 99-З, гл. 8)", a: ["Сразу в суд", "К руководству учреждения и/или в уполномоченный орган (НЦЗПД)", "В милицию", "К классному руководителю/куратору"], c: 1 }
      ],
      teacher: [
        { q: "Можно ли хранить на личном облачном диске (например, Google Drive) список класса с ФИО, телефонами и адресами учащихся? (Закон № 99-З, ст. 17)", a: ["Да, если доступ защищен паролем", "Да, для удобства работы из дома", "Нет, это нарушение требований к защите ПД, так как это личный ресурс", "Только если список зашифрован"], c: 2 },
        { q: "Учащийся 16 лет хочет, чтобы его фото с классного часа было опубликовано на сайте школы. Чье согласие требуется? (Закон № 99-З, ст. 9)", a: ["Только учащегося (14+)", "Только одного из родителей", "Учащегося и одного из родителей", "Учащегося и директора школы"], c: 0 },
        { q: "Педагог использует контакты родителей для рассылки личных коммерческих предложений. Какое положение Закона нарушено? (Закон № 99-З, ст. 5)", a: ["Принцип точности ПД", "Принцип целевого ограничения", "Принцип соразмерности", "Принцип прозрачности"], c: 1 },
        { q: "При работе с ПД учащихся педагог, действующий по поручению директора учреждения, выступает в роли...? (Закон № 99-З, ст. 1, 16)", a: ["Уполномоченного лица", "Оператора", "Субъекта ПД", "Собственника ПД"], c: 0 },
        { q: "Родитель 18-летнего студента просит предоставить информацию о его успеваемости. Должен ли педагог это сделать? (Закон № 99-З, ст. 9)", a: ["Да, родители имеют право знать", "Да, только если ребенок находится на иждивении", "Нет, ПД взрослого субъекта могут передаваться только с его согласия или на законных основаниях", "Да, но только по запросу в письменной форме"], c: 2 },
        { q: "Что обязательно сделать перед внедрением стороннего онлайн-сервиса, требующего регистрации учащихся, в учебный процесс? (Закон № 99-З, ст. 16, 17)", a: ["Уведомить родителей об использовании сервиса", "Проверить меры защиты ПД сервиса и заключить договор поручения обработки ПД", "Использовать только псевдонимы", "Ничего, если сервис бесплатный"], c: 1 },
        { q: "Учащийся предоставил новую фамилию после смены документа. Должен ли педагог немедленно обновить данные в документах? (Закон № 99-З, ст. 5)", a: ["Да, ПД должны быть точными и актуальными", "Нет, это не влияет на учебный процесс", "Да, если это подтвердит директор", "Нет, только по заявлению родителей"], c: 0 },
        { q: "На какой максимальный срок можно хранить ПД учащегося после его отчисления? (Закон № 99-З, ст. 5)", a: ["До момента его возвращения в учреждение", "До момента, когда ПД перестанут быть необходимы для цели обработки, с учетом сроков, установленных законодательством", "5 лет", "Бессрочно"], c: 1 },
        { q: "Учреждение использует ПД учащихся для рассылки рекламных материалов о своих платных курсах. Должно ли быть получено согласие? (Закон № 99-З, ст. 9)", a: ["Да, необходимо получить отдельное согласие на рассылку", "Нет, если это касается образовательных услуг", "Нет, если рассылка ведется внутри учреждения", "Да, но только от несовершеннолетних"], c: 0 },
        { q: "В случае утечки ПД учащихся, кому в первую очередь обязан сообщить педагог? (Закон № 99-З, ст. 19)", a: ["Родителям всех учащихся", "Уполномоченному органу по защите ПД (НЦЗПД)", "Руководству учреждения (директору/завучу)", "Уполномоченному лицу по защите ПД (если назначено)"], c: 2 }
      ]
    };

    // DOM elements
    const navToggle = document.getElementById('navToggle');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMenu = document.getElementById('closeMenu');
    const roleSelection = document.getElementById('roleSelection');
    const quizSection = document.getElementById('quizSection');
    const resultSection = document.getElementById('resultSection');
    const quizTitle = document.getElementById('quizTitle');
    const progressBar = document.getElementById('progressBar');
    const quizContent = document.getElementById('quizContent');
    const nextBtn = document.getElementById('nextBtn');
    const nextBtnText = document.getElementById('nextBtnText');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const starsDisplay = document.getElementById('starsDisplay');
    const restartBtn = document.getElementById('restartBtn');

    let currentRole = '';
    let currentQuestion = 0;
    let selectedOption = null;
    let answers = [];

    // Mobile menu toggle
    function openMenu() {
      mobileMenu.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMenuHandler() {
      mobileMenu.classList.remove('active');
      document.body.style.overflow = '';
    }

    navToggle.addEventListener('click', openMenu);
    closeMenu.addEventListener('click', closeMenuHandler);
    mobileMenu.addEventListener('click', (e) => {
      if (e.target === mobileMenu) closeMenuHandler();
    });

    // Sync language selectors & update UI
    function syncLanguageSelectors(lang) {
      document.getElementById('languageSelector').value = lang;
      document.getElementById('mobileLanguageSelector').value = lang;
    }

    function updateText(selector, text) {
      document.querySelectorAll(selector).forEach(el => {
        if (el.tagName === 'A' && el.children.length > 1) {
          // For nav links with icons
          el.querySelector('span').textContent = text;
        } else if (el.tagName === 'BUTTON' && el.querySelector('span')) {
          el.querySelector('span').textContent = text;
        } else if (el.tagName === 'LI' && el.querySelector('a')) {
          // Recommendations list items
          const link = el.querySelector('a');
          const textNode = el.childNodes[0];
          if (textNode && textNode.nodeType === Node.TEXT_NODE) {
            textNode.textContent = text.split('«')[0].trim();
          }
        } else {
          el.textContent = text;
        }
      });
    }

    function updateLanguage(langCode) {
      const t = translations[langCode];
      if (!t) return;

      // Update all text elements
      updateText('#logoText, #mobileLogoText, #footerLogoText', t.logoText);
      updateText('#navHome span, #mobileNavHome span', t.navHome);
      updateText('#navTheory span, #mobileNavTheory span', t.navTheory);
      updateText('#navPractice span, #mobileNavPractice span', t.navPractice);
      updateText('#navQuiz span, #mobileNavQuiz span', t.navQuiz);
      updateText('#navComplaint span, #mobileNavComplaint span', t.navComplaint);
      
      document.getElementById('heroTitle').textContent = t.heroTitle;
      document.getElementById('heroSubtitle').textContent = t.heroSubtitle;
      document.getElementById('roleSelectionTitle').textContent = t.roleSelectionTitle;
      document.getElementById('roleStudentTitle').textContent = t.roleStudentTitle;
      document.getElementById('roleStudentDesc').textContent = t.roleStudentDesc;
      document.getElementById('roleStudentBtn').textContent = t.roleStudentBtn;
      document.getElementById('roleTeacherTitle').textContent = t.roleTeacherTitle;
      document.getElementById('roleTeacherDesc').textContent = t.roleTeacherDesc;
      document.getElementById('roleTeacherBtn').textContent = t.roleTeacherBtn;
      document.getElementById('backToHome').textContent = t.backToHome;
      document.getElementById('backToHome2').textContent = t.backToHome2;
      document.getElementById('nextBtnText').textContent = t.nextBtnText;
      document.getElementById('resultTitle').textContent = t.resultTitle;
      document.getElementById('recommendationsTitle').textContent = t.recommendationsTitle;
      document.getElementById('rec1').childNodes[0].textContent = t.rec1.split('«')[0].trim();
      document.getElementById('rec2').childNodes[0].textContent = t.rec2.split('«')[0].trim();
      document.getElementById('restartBtnText').textContent = t.restartBtnText;
      document.getElementById('footerDesc').textContent = t.footerDesc;
      document.getElementById('footerCopyright').textContent = t.footerCopyright;
      document.getElementById('footerDisclaimer1').textContent = t.footerDisclaimer1;
      document.getElementById('footerDisclaimer2').textContent = t.footerDisclaimer2;

      document.documentElement.lang = langCode;
      syncLanguageSelectors(langCode);
    }

    // Language change handlers
    document.getElementById('languageSelector').addEventListener('change', (e) => {
      updateLanguage(e.target.value);
    });

    document.getElementById('mobileLanguageSelector').addEventListener('change', (e) => {
      updateLanguage(e.target.value);
    });

    // Init translations
    updateLanguage('ru');

    // Role selection
    document.querySelectorAll('[data-role]').forEach(el => {
      el.addEventListener('click', e => {
        e.preventDefault();
        currentRole = el.dataset.role;
        currentQuestion = 0;
        answers = [];
        // Use translations.ru because the logic is in Russian and updateLanguage only affects static text, not dynamic quiz title (which is set after role selection)
        quizTitle.textContent = currentRole === 'student' 
          ? translations.ru.quizTitleStudent 
          : translations.ru.quizTitleTeacher;
        roleSelection.style.display = 'none';
        quizSection.style.display = 'block';
        resultSection.style.display = 'none';
        loadQuestion();
      });
    });

    // Load question
    function loadQuestion() {
      const qList = questions[currentRole];
      if (currentQuestion >= qList.length) {
        submitQuiz();
        return;
      }

      const q = qList[currentQuestion];
      let opts = '';
      q.a.forEach((opt, i) => {
        opts += `<div class="option" data-idx="${i}">${i + 1}. ${opt}</div>`;
      });

      quizContent.innerHTML = `<div class="question"><div class="question-text">${currentQuestion + 1}. ${q.q}</div><div class="options">${opts}</div></div>`;
      const progress = ((currentQuestion) / qList.length) * 100;
      progressBar.style.width = `${progress}%`;

      document.querySelectorAll('.option').forEach(opt => {
        opt.addEventListener('click', () => {
          document.querySelectorAll('.option').forEach(o => o.classList.remove('selected'));
          opt.classList.add('selected');
          selectedOption = parseInt(opt.dataset.idx);
        });
      });

      nextBtnText.textContent = currentQuestion === qList.length - 1 ? 'Завершить' : 'Далее';
    }

    // Next button
    nextBtn.addEventListener('click', () => {
      if (selectedOption === null) {
        alert('Выберите вариант ответа');
        return;
      }
      answers.push(selectedOption);
      if (currentQuestion < questions[currentRole].length - 1) {
        currentQuestion++;
        selectedOption = null;
        loadQuestion();
      } else {
        submitQuiz();
      }
    });

    // Submit quiz
    function submitQuiz() {
      let score = 0;
      questions[currentRole].forEach((q, i) => {
        if (answers[i] === q.c) score++;
      });

      const total = questions[currentRole].length;
      const percent = Math.round((score / total) * 100);
      let level = 'Начальный';
      if (percent >= 90) level = 'Эксперт';
      else if (percent >= 70) level = 'Продвинутый';
      else if (percent >= 50) level = 'Базовый';

      scoreDisplay.innerHTML = `<p>Вы набрали <strong>${score} из ${total}</strong> (${percent}%)</p><div class="score-badge">${level}</div>`;
      starsDisplay.textContent = '★'.repeat(Math.floor(percent / 20)) + '☆'.repeat(5 - Math.floor(percent / 20));

      quizSection.style.display = 'none';
      resultSection.style.display = 'block';
    }

    // Restart
    restartBtn.addEventListener('click', () => {
      roleSelection.style.display = 'block';
      resultSection.style.display = 'none';
    });

    // Close mobile menu when clicking on a nav link
    document.querySelectorAll('.nav a, .mobile-nav a').forEach(link => {
      link.addEventListener('click', closeMenuHandler);
    });
  </script>
</body>
</html>